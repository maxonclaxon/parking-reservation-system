CREATE TABLE "Profile" (
id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
login TEXT,
password TEXT,
type INTEGER);


CREATE TABLE "Administrator" (
id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
phone TEXT,
pass TEXT,
fio TEXT,
"Profile_id" INTEGER NOT NULL,CONSTRAINT "Profile-Administrator"
FOREIGN KEY ("Profile_id")
REFERENCES "Profile"(id));


CREATE TABLE "Owner" (
id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
pass TEXT,
license TEXT,
fio TEXT,
phone TEXT,
"Profile_id" INTEGER NOT NULL,CONSTRAINT "Profile-Owner"
FOREIGN KEY ("Profile_id")
REFERENCES "Profile"(id));


CREATE TABLE "Parking" (
id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
adress TEXT);


CREATE TABLE "Space" (
id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
floor INTEGER,
"Parking_id" INTEGER NOT NULL,CONSTRAINT "Parking-Space"
FOREIGN KEY ("Parking_id")
REFERENCES "Parking"(id)
ON DELETE Cascade);


CREATE TABLE "Payment" (
id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
amount INTEGER,
status INTEGER,
"Stand_id" INTEGER NOT NULL,CONSTRAINT "Stand-Payment"
FOREIGN KEY ("Stand_id")
REFERENCES "Parking_stand"(id));


CREATE TABLE "Parking_stand" (
id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
status INTEGER,
time_from TEXT,
time_to TEXT,
"Space_id" INTEGER NOT NULL,
"Car_id" INTEGER NOT NULL,CONSTRAINT "Space-Stand"
FOREIGN KEY ("Space_id")
REFERENCES "Space"(id)
ON DELETE Cascade
,CONSTRAINT "Car-Stand"
FOREIGN KEY ("Car_id")
REFERENCES "Car"(id)
ON DELETE Cascade);


CREATE TABLE "Car" (
id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
number TEXT,
model TEXT,
"Owner_id" INTEGER NOT NULL,CONSTRAINT "Owner-Car"
FOREIGN KEY ("Owner_id")
REFERENCES "Owner"(id)
ON DELETE Cascade);







